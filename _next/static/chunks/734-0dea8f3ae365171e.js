"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{6734:function(t,i,s){let h,r;s.d(i,{Z:function(){return N}});let e={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function n(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a(t){function i(){var i=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(i,Object.getPrototypeOf(this)),i}return i.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t,i}class o extends a(Array){clone(){return new this.constructor().copy(this)}fromArray(t,i=0){for(let s=0;s<this.ELEMENTS;++s)this[s]=t[s+i];return this.check()}toArray(t=[],i=0){for(let s=0;s<this.ELEMENTS;++s)t[i+s]=this[s];return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:n(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(e)}formatString(t){let i="";for(let s=0;s<this.ELEMENTS;++s)i+=(s>0?", ":"")+function(t,{precision:i=e.precision}={}){return t=Math.round(t/e.EPSILON)*e.EPSILON,"".concat(parseFloat(t.toPrecision(i)))}(this[s],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(i,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let i=0;i<this.ELEMENTS;++i)if(!function t(i,s,h){let r=e.EPSILON;h&&(e.EPSILON=h);try{if(i===s)return!0;if(n(i)&&n(s)){if(i.length!==s.length)return!1;for(let h=0;h<i.length;++h)if(!t(i[h],s[h]))return!1;return!0}if(i&&i.equals)return i.equals(s);if(s&&s.equals)return s.equals(i);if("number"==typeof i&&"number"==typeof s)return Math.abs(i-s)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(s));return!1}finally{e.EPSILON=r}}(this[i],t[i]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let i=0;i<this.ELEMENTS;++i)if(this[i]!==t[i])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,i,s){if(void 0===s)return this.lerp(this,t,i);for(let h=0;h<this.ELEMENTS;++h){let r=t[h];this[h]=r+s*(i[h]-r)}return this.check()}min(t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(t[i],this[i]);return this.check()}max(t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.max(t[i],this[i]);return this.check()}clamp(t,i){for(let s=0;s<this.ELEMENTS;++s)this[s]=Math.min(Math.max(this[s],t[s]),i[s]);return this.check()}add(...t){for(let i of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=i[t];return this.check()}subtract(...t){for(let i of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=i[t];return this.check()}scale(t){if("number"==typeof t)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t;else for(let i=0;i<this.ELEMENTS&&i<t.length;++i)this[i]*=t[i];return this.check()}multiplyByScalar(t){for(let i=0;i<this.ELEMENTS;++i)this[i]*=t;return this.check()}check(){if(e.debug&&!this.validate())throw Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let i=0;i<this.ELEMENTS;++i)t=t&&Number.isFinite(this[i]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let i=0;i<this.ELEMENTS;++i)this[i]=t;return this.check()}addScalar(t){for(let i=0;i<this.ELEMENTS;++i)this[i]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let i=0;i<this.ELEMENTS;++i)this[i]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,i){for(let s=0;s<this.ELEMENTS;++s)this[s]=Math.min(Math.max(this[s],t),i);return this.check()}get elements(){return this}}function c(t,i,s=""){if(e.debug&&!function(t,i){if(t.length!==i)return!1;for(let i=0;i<t.length;++i)if(!Number.isFinite(t[i]))return!1;return!0}(t,i))throw Error("math.gl: ".concat(s," some fields set to invalid numbers'"));return t}class u extends o{toString(){let t="[";if(e.printRowMajor){t+="row-major:";for(let i=0;i<this.RANK;++i)for(let s=0;s<this.RANK;++s)t+=" ".concat(this[s*this.RANK+i])}else{t+="column-major:";for(let i=0;i<this.ELEMENTS;++i)t+=" ".concat(this[i])}return t+"]"}getElementIndex(t,i){return i*this.RANK+t}getElement(t,i){return this[i*this.RANK+t]}setElement(t,i,s){return this[i*this.RANK+t]=function(t){if(!Number.isFinite(t))throw Error("Invalid number ".concat(t));return t}(s),this}getColumn(t,i=Array(this.RANK).fill(-0)){let s=t*this.RANK;for(let t=0;t<this.RANK;++t)i[t]=this[s+t];return i}setColumn(t,i){let s=t*this.RANK;for(let t=0;t<this.RANK;++t)this[s+t]=i[t];return this}}var l,f,E,O,M,m="undefined"!=typeof Float32Array?Float32Array:Array;function L(t,i,s){var h=i[0],r=i[1],e=i[2],n=i[3],a=i[4],o=i[5],c=i[6],u=i[7],l=i[8],f=i[9],E=i[10],O=i[11],M=i[12],m=i[13],L=i[14],y=i[15],R=s[0],p=s[1],g=s[2],N=s[3];return t[0]=R*h+p*a+g*l+N*M,t[1]=R*r+p*o+g*f+N*m,t[2]=R*e+p*c+g*E+N*L,t[3]=R*n+p*u+g*O+N*y,R=s[4],p=s[5],g=s[6],N=s[7],t[4]=R*h+p*a+g*l+N*M,t[5]=R*r+p*o+g*f+N*m,t[6]=R*e+p*c+g*E+N*L,t[7]=R*n+p*u+g*O+N*y,R=s[8],p=s[9],g=s[10],N=s[11],t[8]=R*h+p*a+g*l+N*M,t[9]=R*r+p*o+g*f+N*m,t[10]=R*e+p*c+g*E+N*L,t[11]=R*n+p*u+g*O+N*y,R=s[12],p=s[13],g=s[14],N=s[15],t[12]=R*h+p*a+g*l+N*M,t[13]=R*r+p*o+g*f+N*m,t[14]=R*e+p*c+g*E+N*L,t[15]=R*n+p*u+g*O+N*y,t}Math.hypot||(Math.hypot=function(){for(var t=0,i=arguments.length;i--;)t+=arguments[i]*arguments[i];return Math.sqrt(t)});var y=function(t,i,s,h,r){var e,n=1/Math.tan(i/2);return t[0]=n/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(e=1/(h-r),t[10]=(r+h)*e,t[14]=2*r*h*e):(t[10]=-1,t[14]=-2*h),t},R=function(t,i,s,h,r,e,n){var a=1/(i-s),o=1/(h-r),c=1/(e-n);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(i+s)*a,t[13]=(r+h)*o,t[14]=(n+e)*c,t[15]=1,t};f=new m(2),m!=Float32Array&&(f[0]=0,f[1]=0),E=new m(3),m!=Float32Array&&(E[0]=0,E[1]=0,E[2]=0),O=new m(4),m!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0,O[3]=0),(M=l||(l={}))[M.COL0ROW0=0]="COL0ROW0",M[M.COL0ROW1=1]="COL0ROW1",M[M.COL0ROW2=2]="COL0ROW2",M[M.COL0ROW3=3]="COL0ROW3",M[M.COL1ROW0=4]="COL1ROW0",M[M.COL1ROW1=5]="COL1ROW1",M[M.COL1ROW2=6]="COL1ROW2",M[M.COL1ROW3=7]="COL1ROW3",M[M.COL2ROW0=8]="COL2ROW0",M[M.COL2ROW1=9]="COL2ROW1",M[M.COL2ROW2=10]="COL2ROW2",M[M.COL2ROW3=11]="COL2ROW3",M[M.COL3ROW0=12]="COL3ROW0",M[M.COL3ROW1=13]="COL3ROW1",M[M.COL3ROW2=14]="COL3ROW2",M[M.COL3ROW3=15]="COL3ROW3";let p=45*Math.PI/180,g=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class N extends u{static get IDENTITY(){return r||Object.freeze(r=new N),r}static get ZERO(){return h||Object.freeze(h=new N([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),h}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return l}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1==arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,i,s,h,r,e,n,a,o,c,u,l,f,E,O,M){return this[0]=t,this[1]=i,this[2]=s,this[3]=h,this[4]=r,this[5]=e,this[6]=n,this[7]=a,this[8]=o,this[9]=c,this[10]=u,this[11]=l,this[12]=f,this[13]=E,this[14]=O,this[15]=M,this.check()}setRowMajor(t,i,s,h,r,e,n,a,o,c,u,l,f,E,O,M){return this[0]=t,this[1]=r,this[2]=o,this[3]=f,this[4]=i,this[5]=e,this[6]=c,this[7]=E,this[8]=s,this[9]=n,this[10]=u,this[11]=O,this[12]=h,this[13]=a,this[14]=l,this[15]=M,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(g)}fromObject(t){return this.check()}fromQuaternion(t){var i,s,h,r,e,n,a,o,c,u,l,f,E,O,M,m,L;return i=this,s=t[0],h=t[1],r=t[2],e=t[3],n=s+s,a=h+h,o=r+r,c=s*n,u=h*n,l=h*a,f=r*n,E=r*a,O=r*o,M=e*n,m=e*a,L=e*o,i[0]=1-l-O,i[1]=u+L,i[2]=f-m,i[3]=0,i[4]=u-L,i[5]=1-c-O,i[6]=E+M,i[7]=0,i[8]=f+m,i[9]=E-M,i[10]=1-c-l,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this.check()}frustum(t){var i,s,h,r,e;let{left:n,right:a,bottom:o,top:c,near:u=.1,far:l=500}=t;return l===1/0?(i=this,i[0]=2*u/(a-n),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*u/(c-o),i[6]=0,i[7]=0,i[8]=(a+n)/(a-n),i[9]=(c+o)/(c-o),i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*u,i[15]=0):(s=this,h=1/(a-n),r=1/(c-o),e=1/(u-l),s[0]=2*u*h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*u*r,s[6]=0,s[7]=0,s[8]=(a+n)*h,s[9]=(c+o)*r,s[10]=(l+u)*e,s[11]=-1,s[12]=0,s[13]=0,s[14]=l*u*2*e,s[15]=0),this.check()}lookAt(t){let{eye:i,center:s=[0,0,0],up:h=[0,1,0]}=t;return!function(t,i,s,h){var r,e,n,a,o,c,u,l,f,E,O,M=i[0],m=i[1],L=i[2],y=h[0],R=h[1],p=h[2],g=s[0],N=s[1],S=s[2];if(1e-6>Math.abs(M-g)&&1e-6>Math.abs(m-N)&&1e-6>Math.abs(L-S))return(r=t)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1;O=1/Math.hypot(l=M-g,f=m-N,E=L-S),l*=O,f*=O,E*=O,(O=Math.hypot(e=R*E-p*f,n=p*l-y*E,a=y*f-R*l))?(e*=O=1/O,n*=O,a*=O):(e=0,n=0,a=0),(O=Math.hypot(o=f*a-E*n,c=E*e-l*a,u=l*n-f*e))?(o*=O=1/O,c*=O,u*=O):(o=0,c=0,u=0),t[0]=e,t[1]=o,t[2]=l,t[3]=0,t[4]=n,t[5]=c,t[6]=f,t[7]=0,t[8]=a,t[9]=u,t[10]=E,t[11]=0,t[12]=-(e*M+n*m+a*L),t[13]=-(o*M+c*m+u*L),t[14]=-(l*M+f*m+E*L),t[15]=1}(this,i,s,h),this.check()}ortho(t){let{left:i,right:s,bottom:h,top:r,near:e=.1,far:n=500}=t;return R(this,i,s,h,r,e,n),this.check()}orthographic(t){let{fovy:i=p,aspect:s=1,focalDistance:h=1,near:r=.1,far:e=500}=t;S(i);let n=h*Math.tan(i/2),a=n*s;return this.ortho({left:-a,right:a,bottom:-n,top:n,near:r,far:e})}perspective(t){let{fovy:i=45*Math.PI/180,aspect:s=1,near:h=.1,far:r=500}=t;return S(i),y(this,i,s,h,r),this.check()}determinant(){var t,i,s,h,r,e,n,a,o,c,u,l,f,E,O,M;return t=this[0],i=this[1],s=this[2],h=this[3],r=this[4],e=this[5],n=this[6],a=this[7],o=this[8],c=this[9],u=this[10],l=this[11],f=this[12],E=this[13],O=this[14],(t*e-i*r)*(u*(M=this[15])-l*O)-(t*n-s*r)*(c*M-l*E)+(t*a-h*r)*(c*O-u*E)+(i*n-s*e)*(o*M-l*f)-(i*a-h*e)*(o*O-u*f)+(s*a-h*n)*(o*E-c*f)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t,i){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],i=i||[-0,-0,-0];let s=this.getScale(i),h=1/s[0],r=1/s[1],e=1/s[2];return t[0]=this[0]*h,t[1]=this[1]*r,t[2]=this[2]*e,t[3]=0,t[4]=this[4]*h,t[5]=this[5]*r,t[6]=this[6]*e,t[7]=0,t[8]=this[8]*h,t[9]=this[9]*r,t[10]=this[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t,i){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],i=i||[-0,-0,-0];let s=this.getScale(i),h=1/s[0],r=1/s[1],e=1/s[2];return t[0]=this[0]*h,t[1]=this[1]*r,t[2]=this[2]*e,t[3]=this[4]*h,t[4]=this[5]*r,t[5]=this[6]*e,t[6]=this[8]*h,t[7]=this[9]*r,t[8]=this[10]*e,t}transpose(){return!function(t,i){if(t===i){var s=i[1],h=i[2],r=i[3],e=i[6],n=i[7],a=i[11];t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=s,t[6]=i[9],t[7]=i[13],t[8]=h,t[9]=e,t[11]=i[14],t[12]=r,t[13]=n,t[14]=a}else t[0]=i[0],t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=i[1],t[5]=i[5],t[6]=i[9],t[7]=i[13],t[8]=i[2],t[9]=i[6],t[10]=i[10],t[11]=i[14],t[12]=i[3],t[13]=i[7],t[14]=i[11],t[15]=i[15]}(this,this),this.check()}invert(){var t,i,s,h,r,e,n,a,o,c,u,l,f,E,O,M,m,L,y,R,p,g,N,S,k,b,A,C,d,v;return t=this,i=this[0],s=this[1],h=this[2],r=this[3],e=this[4],n=this[5],a=this[6],o=this[7],c=this[8],u=this[9],l=this[10],f=this[11],E=this[12],O=this[13],M=this[14],m=this[15],L=i*n-s*e,y=i*a-h*e,R=i*o-r*e,p=s*a-h*n,g=s*o-r*n,N=h*o-r*a,S=c*O-u*E,k=c*M-l*E,b=c*m-f*E,A=u*M-l*O,C=u*m-f*O,(v=L*(d=l*m-f*M)-y*C+R*A+p*b-g*k+N*S)&&(v=1/v,t[0]=(n*d-a*C+o*A)*v,t[1]=(h*C-s*d-r*A)*v,t[2]=(O*N-M*g+m*p)*v,t[3]=(l*g-u*N-f*p)*v,t[4]=(a*b-e*d-o*k)*v,t[5]=(i*d-h*b+r*k)*v,t[6]=(M*R-E*N-m*y)*v,t[7]=(c*N-l*R+f*y)*v,t[8]=(e*C-n*b+o*S)*v,t[9]=(s*b-i*C-r*S)*v,t[10]=(E*g-O*R+m*L)*v,t[11]=(u*R-c*g-f*L)*v,t[12]=(n*k-e*A-a*S)*v,t[13]=(i*A-s*k+h*S)*v,t[14]=(O*y-E*p-M*L)*v,t[15]=(c*p-u*y+l*L)*v),this.check()}multiplyLeft(t){return L(this,t,this),this.check()}multiplyRight(t){return L(this,this,t),this.check()}rotateX(t){var i,s,h,r,e,n,a,o,c,u,l;return i=this,s=Math.sin(t),h=Math.cos(t),r=this[4],e=this[5],n=this[6],a=this[7],o=this[8],c=this[9],u=this[10],l=this[11],this!==i&&(i[0]=this[0],i[1]=this[1],i[2]=this[2],i[3]=this[3],i[12]=this[12],i[13]=this[13],i[14]=this[14],i[15]=this[15]),i[4]=r*h+o*s,i[5]=e*h+c*s,i[6]=n*h+u*s,i[7]=a*h+l*s,i[8]=o*h-r*s,i[9]=c*h-e*s,i[10]=u*h-n*s,i[11]=l*h-a*s,this.check()}rotateY(t){var i,s,h,r,e,n,a,o,c,u,l;return i=this,s=Math.sin(t),h=Math.cos(t),r=this[0],e=this[1],n=this[2],a=this[3],o=this[8],c=this[9],u=this[10],l=this[11],this!==i&&(i[4]=this[4],i[5]=this[5],i[6]=this[6],i[7]=this[7],i[12]=this[12],i[13]=this[13],i[14]=this[14],i[15]=this[15]),i[0]=r*h-o*s,i[1]=e*h-c*s,i[2]=n*h-u*s,i[3]=a*h-l*s,i[8]=r*s+o*h,i[9]=e*s+c*h,i[10]=n*s+u*h,i[11]=a*s+l*h,this.check()}rotateZ(t){var i,s,h,r,e,n,a,o,c,u,l;return i=this,s=Math.sin(t),h=Math.cos(t),r=this[0],e=this[1],n=this[2],a=this[3],o=this[4],c=this[5],u=this[6],l=this[7],this!==i&&(i[8]=this[8],i[9]=this[9],i[10]=this[10],i[11]=this[11],i[12]=this[12],i[13]=this[13],i[14]=this[14],i[15]=this[15]),i[0]=r*h+o*s,i[1]=e*h+c*s,i[2]=n*h+u*s,i[3]=a*h+l*s,i[4]=o*h-r*s,i[5]=c*h-e*s,i[6]=u*h-n*s,i[7]=l*h-a*s,this.check()}rotateXYZ(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}rotateAxis(t,i){var s,h,r,e,n,a,o,c,u,l,f,E,O,M,m,L,y,R,p,g,N,S,k,b,A,C,d,v,W;return s=this,(W=Math.hypot(C=i[0],d=i[1],v=i[2]))<1e-6||(C*=W=1/W,d*=W,v*=W,h=Math.sin(t),e=1-(r=Math.cos(t)),n=this[0],a=this[1],o=this[2],c=this[3],u=this[4],l=this[5],f=this[6],E=this[7],O=this[8],M=this[9],m=this[10],L=this[11],y=C*C*e+r,R=d*C*e+v*h,p=v*C*e-d*h,g=C*d*e-v*h,N=d*d*e+r,S=v*d*e+C*h,k=C*v*e+d*h,b=d*v*e-C*h,A=v*v*e+r,s[0]=n*y+u*R+O*p,s[1]=a*y+l*R+M*p,s[2]=o*y+f*R+m*p,s[3]=c*y+E*R+L*p,s[4]=n*g+u*N+O*S,s[5]=a*g+l*N+M*S,s[6]=o*g+f*N+m*S,s[7]=c*g+E*N+L*S,s[8]=n*k+u*b+O*A,s[9]=a*k+l*b+M*A,s[10]=o*k+f*b+m*A,s[11]=c*k+E*b+L*A,this!==s&&(s[12]=this[12],s[13]=this[13],s[14]=this[14],s[15]=this[15])),this.check()}scale(t){var i,s,h,r,e;return i=this,h=(s=Array.isArray(t)?t:[t,t,t])[0],r=s[1],e=s[2],i[0]=this[0]*h,i[1]=this[1]*h,i[2]=this[2]*h,i[3]=this[3]*h,i[4]=this[4]*r,i[5]=this[5]*r,i[6]=this[6]*r,i[7]=this[7]*r,i[8]=this[8]*e,i[9]=this[9]*e,i[10]=this[10]*e,i[11]=this[11]*e,i[12]=this[12],i[13]=this[13],i[14]=this[14],i[15]=this[15],this.check()}translate(t){var i,s,h,r,e,n,a,o,c,u,l,f,E,O,M,m;return i=this,O=t[0],M=t[1],m=t[2],this===i?(i[12]=this[0]*O+this[4]*M+this[8]*m+this[12],i[13]=this[1]*O+this[5]*M+this[9]*m+this[13],i[14]=this[2]*O+this[6]*M+this[10]*m+this[14],i[15]=this[3]*O+this[7]*M+this[11]*m+this[15]):(s=this[0],h=this[1],r=this[2],e=this[3],n=this[4],a=this[5],o=this[6],c=this[7],u=this[8],l=this[9],f=this[10],E=this[11],i[0]=s,i[1]=h,i[2]=r,i[3]=e,i[4]=n,i[5]=a,i[6]=o,i[7]=c,i[8]=u,i[9]=l,i[10]=f,i[11]=E,i[12]=s*O+n*M+u*m+this[12],i[13]=h*O+a*M+l*m+this[13],i[14]=r*O+o*M+f*m+this[14],i[15]=e*O+c*M+E*m+this[15]),this.check()}transform(t,i){if(4===t.length){var s,h,r,e,n;return s=i||[-0,-0,-0,-0],h=t[0],r=t[1],e=t[2],n=t[3],s[0]=this[0]*h+this[4]*r+this[8]*e+this[12]*n,s[1]=this[1]*h+this[5]*r+this[9]*e+this[13]*n,s[2]=this[2]*h+this[6]*r+this[10]*e+this[14]*n,s[3]=this[3]*h+this[7]*r+this[11]*e+this[15]*n,c(i=s,4),i}return this.transformAsPoint(t,i)}transformAsPoint(t,i){var s,h,r,e,n,a,o,u;let l;let{length:f}=t;switch(f){case 2:s=i||[-0,-0],h=t[0],r=t[1],s[0]=this[0]*h+this[4]*r+this[12],s[1]=this[1]*h+this[5]*r+this[13],l=s;break;case 3:e=i||[-0,-0,-0],n=t[0],a=t[1],o=t[2],u=(u=this[3]*n+this[7]*a+this[11]*o+this[15])||1,e[0]=(this[0]*n+this[4]*a+this[8]*o+this[12])/u,e[1]=(this[1]*n+this[5]*a+this[9]*o+this[13])/u,e[2]=(this[2]*n+this[6]*a+this[10]*o+this[14])/u,l=e;break;default:throw Error("Illegal vector")}return c(l,t.length),l}transformAsVector(t,i){let s;switch(t.length){case 2:s=function(t,i,s){let h=i[0],r=i[1],e=s[3]*h+s[7]*r||1;return t[0]=(s[0]*h+s[4]*r)/e,t[1]=(s[1]*h+s[5]*r)/e,t}(i||[-0,-0],t,this);break;case 3:s=function(t,i,s){let h=i[0],r=i[1],e=i[2],n=s[3]*h+s[7]*r+s[11]*e||1;return t[0]=(s[0]*h+s[4]*r+s[8]*e)/n,t[1]=(s[1]*h+s[5]*r+s[9]*e)/n,t[2]=(s[2]*h+s[6]*r+s[10]*e)/n,t}(i||[-0,-0,-0],t,this);break;default:throw Error("Illegal vector")}return c(s,t.length),s}transformPoint(t,i){return this.transformAsPoint(t,i)}transformVector(t,i){return this.transformAsPoint(t,i)}transformDirection(t,i){return this.transformAsVector(t,i)}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,i,s){return this.identity().translate([t,i,s])}}function S(t){if(t>2*Math.PI)throw Error("expected radians")}}}]);