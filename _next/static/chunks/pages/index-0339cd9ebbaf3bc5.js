(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(156)}])},7361:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var o=n(5893),r=n(9008),i=n.n(r);function a(t){let{children:e}=t;return(0,o.jsx)(i(),{children:(0,o.jsx)("title",{children:e?"".concat(e," | Ketexon"):"Ketexon"})})}n(7294)},156:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var o=n(5893),r=n(7294),i=n(7361),a=n(7357);function c(t,e,n){let o=t.createShader(e);t.shaderSource(o,n),t.compileShader(o);let r=t.getShaderParameter(o,t.COMPILE_STATUS);if(!r){let e="Could not compile shader: ".concat(t.getShaderInfoLog(o));throw t.deleteShader(o),e}return o}var l=n(1849),f=n(3855),u=n(3176),h=n(8199);function m(t,e){let n=t.origin||f.Z.ZERO;return e.clone().subtract(n).scale(t.scale||new f.Z(1,1,1)).transformByQuaternion(t.rotation||new h.Z().identity()).add(n).add(t.translation||f.Z.ZERO)}function s(t){let{bottomLeft:e,topLeft:n,bottomRight:o,topRight:r,flipFace:i,color:a}=t,c=new l.Z(...new f.Z().subVectors(o,e).cross(new f.Z().subVectors(n,e)),1).multiplyByScalar(i?-1:1);return!0!==i?[...n,1,...a,...c,...e,1,...a,...c,...o,1,...a,...c,...n,1,...a,...c,...o,1,...a,...c,...r,1,...a,...c]:[...e,1,...a,...c,...n,1,...a,...c,...o,1,...a,...c,...o,1,...a,...c,...n,1,...a,...c,...r,1,...a,...c]}let w="u_view",d="u_ambientStrength",g="u_ambientColor",v="u_directionalLightStrength",b="u_directionalLightColor",p="u_directionalLightPosition",_="#version 300 es\nlayout(location = ".concat(0,") in vec4 a_position;\nlayout(location = ").concat(1,") in vec4 a_color;\nlayout(location = ").concat(2,") in vec4 a_normal;\nuniform mat4 ").concat(w,";\n\nout vec4 v_position;\nout vec4 v_color;\nout vec4 v_normal;\n\nvoid main() {\n	gl_Position = ").concat(w," * a_position;\n\n	v_position = a_position;\n	v_color = a_color;\n	v_normal = a_normal;\n}\n"),Z="#version 300 es\nprecision highp float;\n\nin vec4 v_position;\nin vec4 v_color;\nin vec4 v_normal;\n\nuniform float ".concat(d,";\nuniform vec3 ").concat(g,";\n\nuniform float ").concat(v,";\nuniform vec4 ").concat(p,";\nuniform vec3 ").concat(b,";\n\nout vec4 outColor;\n\nvoid main() {\n	vec3 ambient = ").concat(d," * ").concat(g,";\n\n	vec4 lightDir = normalize(").concat(p," - v_position);\n	float diffuseStrength = max(dot(lightDir, normalize(v_normal)), 0.0) * ").concat(v,";\n\n	outColor = v_color * vec4(ambient + diffuseStrength * ").concat(b,", 1);\n}\n");function x(){let t=r.createRef(),e=r.createRef();return r.useEffect(()=>{if(t.current&&e.current)return function(t,e){let n;let o=t.getContext("webgl2");o.enable(o.CULL_FACE),o.enable(o.DEPTH_TEST),o.cullFace(o.BACK);let r=!1,i=[-1,-1],a=[-1,-1],h=t=>{for(let e of t){a=[e.contentBoxSize[0].inlineSize,e.contentBoxSize[0].blockSize];let t=e.devicePixelContentBoxSize?e.devicePixelContentBoxSize[0]:e.contentBoxSize[0],n=e.devicePixelContentBoxSize?1:window.devicePixelRatio,o=Math.round(t.inlineSize*n),c=Math.round(t.blockSize*n);(i[0]!=o||i[1]!=c)&&(r=!0),i=[o,c]}},x=new ResizeObserver(h);try{x.observe(e,{box:"device-pixel-content-box"})}catch(t){x.observe(e,{box:"content-box"})}let L=c(o,o.VERTEX_SHADER,_),A=c(o,o.FRAGMENT_SHADER,Z),R=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];let r=t.createProgram();for(let e of n)t.attachShader(r,e);t.linkProgram(r);let i=t.getProgramParameter(r,t.LINK_STATUS);if(!i){let e="Could not link program: ".concat(t.getProgramInfoLog(r));throw t.deleteProgram(r),e}return r}(o,L,A),S=new Float32Array(function(t){let{color:e,transform:n}=t,o=n?m.bind(null,n):t=>t;return[...s({bottomLeft:o(new f.Z(0,0,0)),topLeft:o(new f.Z(0,1,0)),bottomRight:o(new f.Z(1,0,0)),topRight:o(new f.Z(1,1,0)),color:e,flipFace:!0}),...s({bottomLeft:o(new f.Z(0,0,0)),topLeft:o(new f.Z(0,0,1)),bottomRight:o(new f.Z(1,0,0)),topRight:o(new f.Z(1,0,1)),color:e,flipFace:!1}),...s({bottomLeft:o(new f.Z(0,0,0)),topLeft:o(new f.Z(0,0,1)),bottomRight:o(new f.Z(0,1,0)),topRight:o(new f.Z(0,1,1)),color:e,flipFace:!0}),...s({bottomLeft:o(new f.Z(0,0,1)),topLeft:o(new f.Z(0,1,1)),bottomRight:o(new f.Z(1,0,1)),topRight:o(new f.Z(1,1,1)),color:e,flipFace:!1}),...s({bottomLeft:o(new f.Z(0,1,0)),topLeft:o(new f.Z(0,1,1)),bottomRight:o(new f.Z(1,1,0)),topRight:o(new f.Z(1,1,1)),color:e,flipFace:!0}),...s({bottomLeft:new f.Z(1,0,0),topLeft:new f.Z(1,0,1),bottomRight:new f.Z(1,1,0),topRight:new f.Z(1,1,1),color:e,flipFace:!1})]}({color:new l.Z(1,0,0,1),transform:{origin:new f.Z(.5,.5,.5),translation:new f.Z(.5,.5,.5).scale(-1)}})),y=o.createVertexArray();o.bindVertexArray(y);let E=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,E),o.bufferData(o.ARRAY_BUFFER,S,o.STATIC_DRAW),o.enableVertexAttribArray(0),o.enableVertexAttribArray(1),o.enableVertexAttribArray(2);let P=4*S.length/48;o.vertexAttribPointer(0,4,o.FLOAT,!1,48,0),o.vertexAttribPointer(1,4,o.FLOAT,!1,48,16),o.vertexAttribPointer(2,4,o.FLOAT,!1,48,32),o.useProgram(R);let F=o.getUniformLocation(R,w),C=o.getUniformLocation(R,d),T=o.getUniformLocation(R,g),B=o.getUniformLocation(R,v),z=o.getUniformLocation(R,p),U=o.getUniformLocation(R,b);o.uniform1f(C,.5),o.uniform3fv(T,new f.Z(1,1,1)),o.uniform1f(B,.5),o.uniform4fv(z,new l.Z(5,-5,5,1)),o.uniform3fv(U,new f.Z(1,1,1));let O=new u.Z,k=new u.Z,N=new u.Z,V=new f.Z([-5,5,5]),D=()=>{if(r){t.style.width="".concat(a[0],"px"),t.style.height="".concat(a[1],"px"),t.width=i[0],t.height=i[1],r=!1,o.viewport(0,0,t.width,t.height);let e=t.height/t.width;O.ortho({left:-5,right:5,bottom:-(5*e),top:5*e,near:0,far:100}),k.lookAt({eye:V,center:[0,0,0],up:[0,1,0]}),N.copy(k).multiplyLeft(O),o.useProgram(R),o.uniformMatrix4fv(F,!1,N,0,N.ELEMENTS)}},I=()=>{performance.now(),D(),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLES,0,P),requestAnimationFrame(I)};requestAnimationFrame(I);let j=()=>{o.deleteProgram(R),o.deleteShader(L),o.deleteShader(A)};return j}(t.current,e.current)}),(0,o.jsxs)(a.Z,{position:"relative",width:"100%",height:"100%",overflow:"hidden",children:[(0,o.jsx)(i.Z,{}),(0,o.jsx)(a.Z,{ref:e,sx:{display:"flex",height:"100%",width:"100%"}}),(0,o.jsx)("canvas",{ref:t,style:{display:"block",position:"absolute",top:0,left:0}})]})}}},function(t){t.O(0,[26,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);